{
  "openapi": "3.0.3",
  "info": {
    "title": "Ticket Reservation",
    "description": "Api Spec For Ticket Reservation REST API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://localhost:8080"
    }
  ],
  "paths": {
   "/v1/admin/login": {
     "post": {
       "summary": "Login Admin",
       "description": "Login Admin",
       "tags": ["Admin"],
       "requestBody": {
         "content": {
           "application/json": {
             "schema": {
               "$ref": "#/components/schemas/UserLogin"
             }
           }
         }
       },
       "responses": {
         "200": {
           "description": "Admin logged in successfully",
           "content": {
             "application/json": {
               "schema": {
                 "type": "object",
                 "properties": {
                   "error": {
                     "type": "boolean"
                   },
                   "message": {
                     "type": "string"
                   },
                   "data": {
                     "type": "object",
                     "properties": {
                       "id": {
                         "type": "integer"
                       },
                       "name": {
                         "type": "string"
                       },
                       "email": {
                         "type": "string"
                       },
                       "token": {
                         "type": "string"
                       }
                     }
                   }
                 }
               }
             }
           }
         }
       }
     }
   },
    "/v1/admin/register": {
      "post": {
        "summary": "Register Admin",
        "description": "Register Admin",
        "tags": [
          "Admin"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegister"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Admin registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "no_phone": {
                          "type": "string"
                        },
                        "password": {
                          "type": "string"
                        },
                        "profile_picture": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/user/login": {
      "post": {
        "summary": "Login User",
        "description": "Login User",
        "tags": ["User"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User logged in successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "token": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/user/register": {
      "post": {
        "summary": "Register User",
        "description": "Register User",
        "tags": ["User"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegister"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "no_phone": {
                          "type": "string"
                        },
                        "password": {
                          "type": "string"
                        },
                        "profile_picture": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tourist-attraction-type": {
      "get": {
        "summary": "Get All Tourist Attraction Type",
        "description": "Get All Tourist Attraction Type",
        "tags": [
          "Tourist Attraction Type"
        ],
        "responses": {
          "200": {
            "description": "Tourist Attraction Type fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Tourist Attraction Type",
        "description": "Create Tourist Attraction Type",
        "tags": [
          "Tourist Attraction Type"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tourist Attraction Type created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tourist-attraction-type/{touristAttractionTypeID}": {
      "get": {
        "summary": "Get Tourist Attraction Type By ID",
        "description": "Get Tourist Attraction Type By ID",
        "tags": [
          "Tourist Attraction Type"
        ],
        "parameters": [
          {
            "name": "touristAttractionTypeID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tourist Attraction Type fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Tourist Attraction Type",
        "description": "Update Tourist Attraction Type",
        "tags": [
          "Tourist Attraction Type"
        ],
        "parameters": [
          {
            "name": "touristAttractionTypeID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tourist Attraction Type updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tourist-attraction": {
      "get": {
        "summary": "Get All Tourist Attraction",
        "description": "Get All Tourist Attraction",
        "tags": [
          "Tourist Attraction"
        ],
        "responses": {
          "200": {
            "description": "Tourist Attraction fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "tourist_attraction_type": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              }
                            }
                          },
                          "location": {
                              "type": "string"
                          },
                          "price": {
                            "type": "integer"
                          },
                          "image": {
                            "type": "string"
                          },
                          "balance": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Tourist Attraction",
        "description": "Create Tourist Attraction",
        "tags": [
          "Tourist Attraction"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "tourist_attraction_type_id": {
                    "type": "integer"
                  },
                  "location": {
                    "type": "string"
                  },
                  "price": {
                    "type": "integer"
                  },
                  "image": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tourist Attraction created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "tourist_attraction_type": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            }
                          }
                        },
                        "location": {
                          "type": "string"
                        },
                        "price": {
                          "type": "integer"
                        },
                        "image": {
                          "type": "string"
                        },
                        "balance": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tourist-attraction/{touristAttractionID}": {
      "get": {
        "summary": "Get Tourist Attraction By ID",
        "description": "Get Tourist Attraction By ID",
        "tags": [
          "Tourist Attraction"
        ],
        "parameters": [
          {
            "name": "touristAttractionID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tourist Attraction fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "tourist_attraction_type": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            }
                          }
                        },
                        "location": {
                          "type": "string"
                        },
                        "price": {
                          "type": "integer"
                        },
                        "image": {
                          "type": "string"
                        },
                        "balance": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Tourist Attraction",
        "description": "Update Tourist Attraction",
        "tags": [
          "Tourist Attraction"
        ],
        "parameters": [
          {
            "name": "touristAttractionID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "tourist_attraction_type_id": {
                    "type": "integer"
                  },
                  "location": {
                    "type": "string"
                  },
                  "ticket_price": {
                    "type": "integer"
                  },
                  "image": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tourist Attraction updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/tourist-attraction/{touristAttractionID}/tickets": {
      "get": {
        "summary": "Get All Ticket By Tourist Attraction ID",
        "description": "Get All Ticket By Tourist Attraction ID",
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "touristAttractionID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ticket fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "user": {
                            "$ref": "#/components/schemas/UserResponse"
                          },
                          "tourist_attraction": {
                            "$ref": "#/components/schemas/TouristAttraction"
                          },
                          "ReservationDate": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/admin/ticket/{ticketID}": {
      "get": {
        "summary": "Get Ticket By ID",
        "description": "Get Ticket By ID",
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "ticketID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ticket fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "user": {
                          "$ref": "#/components/schemas/UserResponse"
                        },
                        "tourist_attraction": {
                          "$ref": "#/components/schemas/TouristAttraction"
                        },
                        "ReservationDate": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/user/tickets": {
      "get": {
        "summary": "Get All Ticket By User ID",
        "description": "Get All Ticket By User ID",
        "tags": [
          "Ticket"
        ],
        "responses": {
          "200": {
            "description": "Ticket fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "user": {
                            "$ref": "#/components/schemas/UserResponse"
                          },
                          "tourist_attraction": {
                            "$ref": "#/components/schemas/TouristAttraction"
                          },
                          "ReservationDate": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/user/ticket/{ticketID}": {
      "get": {
        "summary": "Get Ticket By ID",
        "description": "Get Ticket By ID",
        "tags": [
          "Ticket"
        ],
        "parameters": [
          {
            "name": "ticketID",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ticket fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "user": {
                          "$ref": "#/components/schemas/UserResponse"
                        },
                        "tourist_attraction": {
                          "$ref": "#/components/schemas/TouristAttraction"
                        },
                        "ReservationDate": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/user/transaction/initialize": {
      "post": {
        "summary": "Initialize Transaction",
        "description": "Initialize Transaction",
        "tags": [
          "Transaction"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "integer"
                  },
                  "tourist_attraction_id": {
                    "type": "integer"
                  },
                  "quantity": {
                    "type": "integer"
                  },
                  "ReservationDate": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transaction initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                            "type": "integer"
                        },
                        "amount": {
                            "type": "integer"
                        },
                        "status": {
                            "type": "integer"
                        },
                        "snap_url": {
                            "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UserLogin": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "UserRegister": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "no_phone": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "profile_picture": {
            "type": "string",
            "format": "binary"
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "no_phone": {
            "type": "string"
          },
          "profile_picture": {
            "type": "string"
          }
        }
      },
      "TouristAttractionType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "TouristAttraction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "tourist_attraction_type": {
            "$ref": "#/components/schemas/TouristAttractionType"
          },
          "location": {
            "type": "string"
          },
          "price": {
            "type": "integer"
          },
          "image": {
            "type": "string"
          },
          "balance": {
            "type": "integer"
          }
        }
      }
    }
  }
}
